package com.aurionpro.model;

public class TicTacToeGame {
    private BoardInterface board;
    private PlayerInterface playerX;
    private PlayerInterface playerO;
    private PlayerInterface currentPlayer;
    private WinCheckerInterface winChecker;

    public TicTacToeGame(BoardInterface board, PlayerInterface playerX, PlayerInterface playerO, WinCheckerInterface winChecker) {
        this.board = board;
        this.playerX = playerX;
        this.playerO = playerO;
        this.currentPlayer = playerX;
        this.winChecker = winChecker;
    }

    public void printBoard() {
        board.printBoard();
    }

    public boolean makeMove(int row, int col) {
        return board.placeMove(row, col, currentPlayer.getSymbol());
    }

    public boolean checkGameOver() {
        return winChecker.haveWon(board.getBoard(), currentPlayer.getSymbol());
    }

    public void switchPlayer() {
        currentPlayer = (currentPlayer == playerX) ? playerO : playerX;
    }

    public PlayerInterface getCurrentPlayer() {
        return currentPlayer;
    }
}
